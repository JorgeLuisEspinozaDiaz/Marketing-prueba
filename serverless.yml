service: marketing-project

provider:
  name: aws
  runtime: nodejs18.x
  region: us-east-1  
  environment:
    DB_HOST: database-1.car22e4gqefr.us-east-1.rds.amazonaws.com
    DB_PORT: 3306
    DB_USER: admin
    DB_PASSWORD: admin123
    DB_NAME: marketing-prueba

plugins:
  - serverless-plugin-typescript
  - serverless-offline
 

custom:
  webpack:
    webpackConfig: ./webpack.config.js  # âœ… Asegura que Webpack encuentre el archivo
    includeModules: true
  serverless-offline:
  noPrependStageInUrl: true  # ðŸ”¥ Evita que agregue /local o /dev

functions:
  api:
    handler: src/main.handler
    events:
     - httpApi:
          method: any
          path: /{proxy+}
package:
  exclude:
    - node_modules/**
    - test/**
  include:
    - node_modules/@nestjs/**
    - node_modules/class-validator/**
    - node_modules/class-transformer/**
    - node_modules/reflect-metadata/**
    - node_modules/tslib/**